CMAKE_MINIMUM_REQUIRED (VERSION 2.6)

PROJECT (singlepc)

INCLUDE_DIRECTORIES (
  ${CMAKE_CURRENT_SOURCE_DIR}
  ${CMAKE_CURRENT_BINARY_DIR}
  ${KDOTS_SOURCE_DIR}
)

SET (SINGLEPC_HEADERS
  plugin.hpp
)

SET (SINGLEPC_SRCS
  plugin.cpp
)

QT4_WRAP_CPP (SINGLEPC_HEADERS_MOC ${SINGLEPC_HEADERS})

ADD_LIBRARY (kdots_singlepc SHARED
  ${SINGLEPC_SRCS}
  ${SINGLEPC_HEADERS_MOC}
)

TARGET_LINK_LIBRARIES (kdots_singlepc
  ${QT_LIBRARIES}
)

FILE (COPY ${CMAKE_CURRENT_BINARY_DIR}/libkdots_singlepc.so DESTINATION ${PLUGIN_BUILD_DIR})